/* 
 * Grid Reset for Mobile
 * This file contains aggressive reset rules that should fix any grid inconsistencies
 * on mobile devices. It should be included as the last CSS file.
 */

@media (max-width: 767px) {
  /* Reset all potential container issues */
  .library-container {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }
  
  /* Hard reset the grid system */
  .albums-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    grid-auto-rows: auto !important;
    gap: 16px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* Force each album item to be identical */
  .albums-grid > .album-item {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    flex: none !important;
    min-width: 0 !important;
  }
  
  /* Fix album cover containers */
  .album-cover-container {
    position: relative !important;
    width: 100% !important;
    height: 0 !important;
    padding-bottom: 100% !important;
    margin-bottom: 8px !important;
  }
  
  /* Force images to scale properly */
  .album-cover-container img {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
  }
  
  /* Handle title overflow properly */
  .album-title,
  .album-artist {
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 100% !important;
    width: 100% !important;
  }
}

/* Extra aggressive reset for specific browsers that might have issues */
@supports (-webkit-touch-callout: none) {
  /* iOS-specific fixes */
  .albums-grid {
    width: 100% !important;
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  .album-item {
    width: 100% !important;
  }
}